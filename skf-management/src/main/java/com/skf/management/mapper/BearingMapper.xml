<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.skf.management.mapper.BearingMapper">
  <resultMap id="BaseResultMap" type="com.skf.management.model.BearingModel">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 15 18:04:35 CST 2018.
    -->
    <id column="BRNG_CODE" jdbcType="VARCHAR" property="code" />
    <result column="BRNG_MODEL_NUMBER" jdbcType="VARCHAR" property="modelNumber" />
    <result column="BRNG_MANUFACTURE" jdbcType="VARCHAR" property="manufacture" />
    <result column="BRNG_DESCRIPTION" jdbcType="VARCHAR" property="description" />
    <result column="BRNG_BPFO" jdbcType="REAL" property="bpfo" />
    <result column="BRNG_BPFI" jdbcType="REAL" property="bpfi" />
    <result column="BRNG_BSF" jdbcType="REAL" property="bsf" />
    <result column="BRNG_FTF" jdbcType="REAL" property="ftf" />
    <result column="BRNG_IMAGE_CODE" jdbcType="VARCHAR" property="imageCode" />
  </resultMap>
  <resultMap id="ResultPage" type="com.skf.management.entity.GearEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 22 14:56:15 CST 2018.
    -->
    <id column="BRNG_CODE" jdbcType="VARCHAR" property="code" />
    <result column="IMG_DATA" jdbcType="LONGVARBINARY" property="img" />
    <result column="IMG_CODE" jdbcType="VARCHAR" property="imgCode" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="type" jdbcType="VARCHAR" property="type" />
    <result column="BRNG_MODEL_NUMBER" jdbcType="VARCHAR" property="modelNumber" />
    <result column="BRNG_MANUFACTURE" jdbcType="VARCHAR" property="manufacture" />
    <result column="BRNG_DESCRIPTION" jdbcType="VARCHAR" property="description" />
    <result column="BRNG_BPFO" jdbcType="REAL" property="bpfo" />
    <result column="BRNG_BPFI" jdbcType="REAL" property="bpfi" />
    <result column="BRNG_BSF" jdbcType="REAL" property="bsf" />
    <result column="BRNG_FTF" jdbcType="REAL" property="fif" />
  </resultMap>
  <select id="listPage" parameterType="map" resultMap="ResultPage">  
        select 
        	sb.BRNG_CODE,
			simg.IMG_DATA,
			'DYC5555' name,
			'轴承' type,
			sb.BRNG_MODEL_NUMBER,
			sb.BRNG_MANUFACTURE,
			sb.BRNG_DESCRIPTION,
			sb.BRNG_BPFO,
			sb.BRNG_BPFI,
			sb.BRNG_BSF,
			sb.BRNG_FTF
		from 
			SKF_BRNG sb
		left join 
			SKF_IMG simg on simg.IMG_CODE= sb.BRNG_IMAGE_CODE 
        limit #{stratRow},#{endRow}  
 </select>
  <select id="listPageCount" resultType="java.lang.Integer">  
        select 
        	count(sb.BRNG_CODE)
		from 
			SKF_BRNG sb
		left join 
			SKF_IMG simg on simg.IMG_CODE= sb.BRNG_IMAGE_CODE 
 </select>   
 
  
   <select id="getBearingDetail" parameterType="java.lang.String" resultMap="ResultPage">  
         select 
        	sb.BRNG_CODE,
			simg.IMG_DATA,
			simg.IMG_CODE,
			'DYC5555' name,
			'轴承' type,
			sb.BRNG_MODEL_NUMBER,
			sb.BRNG_MANUFACTURE,
			sb.BRNG_DESCRIPTION,
			sb.BRNG_BPFO,
			sb.BRNG_BPFI,
			sb.BRNG_BSF,
			sb.BRNG_FTF
		from 
			skf_brng sb
		left join 
			skf_img simg on simg.IMG_CODE= sb.BRNG_IMAGE_CODE  
		WHERE sb.BEARING_CODE = #{code,jdbcType=VARCHAR}
 </select>
</mapper>